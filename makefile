# "$make" compiles any missing or out_of_date objects , then relinks if needed.
# "$make clean" removes all files generated by the compiler (allows for clean compile)
# "$make turnin.txt" compiles (if needed), then runs the program and the checker.
# "$make clean_check" removes all files generated by running the above (outfiles, etc.)
# "$make valgrind" compiles (if needed), then runs the program through valgrind.
# Don't touch "$make depend"

CXX = g++
CXXFLAGS = -std=c++11 -g -Wall
SRCS = main.cpp WordCounter.cpp Hashmap.cpp
OBJS = $(SRCS:.cpp=.o)
MAIN = Lab8_Hashmap

all: $(MAIN)

$(MAIN): $(OBJS)
	$(CXX) $(CXXFLAGS) -o $(MAIN) $(OBJS)

.cpp.o:
	$(CXX) $(CXXFLAGS) -c -o $@ $<

clean_build:
	$(RM) *.o $(MAIN)

valgrind: $(MAIN)
	valgrind ./$(MAIN)

turnin.txt: $(MAIN)
	./$(MAIN)
	bash check.sh

clean_check:
	$(RM) turnin.txt details.txt out_file*

clean: clean_check clean_build

depend: $(SRCS)
	makedepend -- $(CXXFLAGS) -- $^
	$(RM) Makefile.bak

# DO NOT DELETE

main.o: Hashmap.h HashmapInterface.h WordCounter.h WordCounterInterface.h
WordCounter.o: WordCounter.h WordCounterInterface.h HashmapInterface.h
WordCounter.o: Hashmap.h
Hashmap.o: Hashmap.h HashmapInterface.h
